package jcode;
use integer;%utf8_code_table=('sjis'=>['unicode/sjis2utf8_1.dat',1,3,'unicode/sjis2utf8_2.dat',2,2,'unicode/sjis2utf8_3.dat',2,3,],'euc'=>['unicode/euc2utf8_1.dat',2,2,'unicode/euc2utf8_2.dat',2,3,],);init() unless defined $version;sub init {$version=$rcsid=~/,v ([\d.]+)/o ? $1 : 'unknown';$utf8_table_path="";%u2s=();%s2u=();%u2e=();%e2u=();%utf8_h2z=();%utf8_z2h=();$re_utf8='[\300-\337][\200-\277]|[\340-\357][\200-\277][\200-\277]';%e2s=();%s2e=();$re_bin='[\000-\006\177\377]';$re_jis0208_1978='\e\$\@';$re_jis0208_1983='\e\$B';$re_jis0208_1990='\e&\@\e\$B';$re_jis0208="$re_jis0208_1978|$re_jis0208_1983|$re_jis0208_1990";$re_jis0212='\e\$\(D';$re_jp="$re_jis0208|$re_jis0212";$re_asc='\e\([BJ]';$re_kana='\e\(I';$esc_0208="\e\$B";$esc_0212="\e\$(D";$esc_asc="\e(B";$esc_kana="\e(I";$re_sjis_c='[\201-\237\340-\374][\100-\176\200-\374]';$re_sjis_kana='[\241-\337]';$re_euc_c='[\241-\376][\241-\376]';$re_euc_kana='\216[\241-\337]';$re_euc_0212='\217[\241-\376][\241-\376]';$undef_sjis="\x81\xac";$cache=1;my($h2z_high,$h2z);
($h2z_high = $h2z = <<'__TABLE_END__')=~tr/\041-\176/\241-\376/;
! !# $ !" % !& " !V # !W ^ !+ _ !, 0 !< ' %! ( %# ) %% * %' + %) , %c - %e . %g / %C 1 %" 2 %$ 3 %& 4 %( 5 %* 6 %+ 7 %- 8 %/ 9 %1 : %3 6^ %, 7^ %. 8^ %0 9^ %2 :^ %4 ; %5 < %7 = %9 > %; ? %= ;^ %6 <^ %8 =^ %: >^ %< ?^ %> @ %? A %A B %D C %F D %H @^ %@ A^ %B B^ %E C^ %G D^ %I E %J F %K G %L H %M I %N J %O K %R L %U M %X N %[ J^ %P K^ %S L^ %V M^ %Y N^ %\ J_ %Q K_ %T L_ %W M_ %Z N_ %] O %^ P %_ Q %` R %a S %b T %d U %f V %h W %i X %j Y %k Z %l [ %m \ %o ] %s & %r 3^ %t
__TABLE_END__
%h2z=split(/\s+/,$h2z . $h2z_high);%z2h=reverse %h2z;$convf{'jis','jis'}=\&jis2jis;$convf{'jis','sjis'}=\&jis2sjis;$convf{'jis','euc'}=\&jis2euc;$convf{'jis','utf8'}=\&jis2utf;$convf{'euc','jis'}=\&euc2jis;$convf{'euc','sjis'}=\&euc2sjis;$convf{'euc','euc'}=\&euc2euc;$convf{'euc','utf8'}=\&euc2utf;$convf{'sjis','jis'}=\&sjis2jis;$convf{'sjis','sjis'}=\&sjis2sjis;$convf{'sjis','euc'}=\&sjis2euc;$convf{'sjis','utf8'}=\&sjis2utf;$convf{'utf8','jis'}=\&utf2jis;$convf{'utf8','euc'}=\&utf2euc;$convf{'utf8','sjis'}=\&utf2sjis;$convf{'utf8','utf8'}=\&utf2utf;$h2zf{'jis'}=\&h2z_jis;$z2hf{'jis'}=\&z2h_jis;$h2zf{'euc'}=\&h2z_euc;$z2hf{'euc'}=\&z2h_euc;$h2zf{'sjis'}=\&h2z_sjis;$z2hf{'sjis'}=\&z2h_sjis;$h2zf{'utf8'}=\&h2z_utf8;$z2hf{'utf8'}=\&z2h_utf8;}sub jis_inout {$esc_0208=shift || $esc_0208;$esc_0208="\e\$$esc_0208" if length($esc_0208)==1;$esc_asc=shift || $esc_asc;$esc_asc="\e\($esc_asc" if length($esc_asc)==1;($esc_0208,$esc_asc);}sub get_inout {my($esc_0208,$esc_asc);$_[$[]=~/($re_jis0208)/o && ($esc_0208=$1);$_[$[]=~/($re_asc)/o && ($esc_asc=$1);($esc_0208,$esc_asc);}sub getcode {my $s=shift;my($matched,$code);if($$s=~/$re_bin/o){my $ucs2=0;while($$s=~/((?:\000[\000-\177])+)/go){$ucs2 += length($1);}if($ucs2){($code,$matched)=('ucs2',$ucs2);}else{($code,$matched)=('binary',0);}}elsif($$s !~ /[\e\200-\377]/o){$matched=0;$code=undef;}elsif($$s=~/$re_jp|$re_asc|$re_kana/o){$matched=1;$code='jis';}else{my($sjis,$euc,$utf8)=(0,0,0);while($$s=~/((?:$re_sjis_c)+)/go){$sjis += length($1);}while($$s=~/((?:$re_euc_c|$re_euc_kana|$re_euc_0212)+)/go){$euc += length($1);}while($$s=~/((?:$re_utf8)+)/go){$utf8 += length($1);}$matched=_max($sjis,$euc,$utf8);$code=($sjis>$euc and $sjis>$utf8) ? 'sjis' : ($euc>$sjis and $euc>$utf8) ? 'euc' : ($utf8>$euc and $utf8>$sjis) ? 'utf8' : undef;}wantarray ? ($matched,$code) : $code;}sub _max {my $c=shift;for my $n (@_){$c=$n if $n>$c;}$c;}sub convert {my($s,$ocode,$icode,$opt)=@_;if($icode eq ""){$icode=getcode($s);}$ocode='jis' unless $ocode;$ocode=$icode if $ocode eq 'noconv';my $f=$convf{$icode,$ocode};if($ocode ne $icode || $opt){if(ref $f){if($ocode eq 'utf8' || $icode eq 'utf8'){utf8_init($ocode,$icode);}&$f($s,$opt);}}wantarray ? ($f,$icode) : $icode;}sub jis {to('jis',@_);}sub euc {to('euc',@_);}sub sjis {to('sjis',@_);}sub utf8 {to('utf8',@_);}sub to {my($ocode,$s,$icode,$opt)=@_;convert(\$s,$ocode,$icode,$opt);$s;}sub what {my $s=shift;getcode(\$s);}sub trans {my $s=shift;&tr(\$s,@_);$s;}sub sjis2jis {my($s,$opt)=@_;local($n)=0;sjis2sjis($s,$opt) if $opt;$$s=~s/(($re_sjis_c|$re_sjis_kana)+)/_sjis2jis($1) . $esc_asc/geo;$n;}sub _sjis2jis {my $s=shift;$s=~s/(($re_sjis_c)+|($re_sjis_kana)+)/__sjis2jis($1)/geo;$s;}sub __sjis2jis {my $s=shift;if($s=~/^$re_sjis_kana/o){$n += $s=~tr/\241-\337/\041-\137/;$esc_kana . $s;}else{$n += $s=~s/($re_sjis_c)/$s2e{$1} || s2e($1)/geo;$s=~tr/\241-\376/\041-\176/;$esc_0208 . $s;}}sub euc2jis {my($s,$opt)=@_;local($n)=0;euc2euc($s,$opt) if $opt;$$s=~s/(($re_euc_c|$re_euc_kana|$re_euc_0212)+)/_euc2jis($1) . $esc_asc/geo;$n;}sub _euc2jis {my $s=shift;$s=~s/(($re_euc_c)+|($re_euc_kana)+|($re_euc_0212)+)/__euc2jis($1)/geo;$s;}sub __euc2jis {my $s=shift;my($esc);if($s=~tr/\216//d){$esc=$esc_kana;}elsif($s=~tr/\217//d){$esc=$esc_0212;}else{$esc=$esc_0208;}$n += $s=~tr/\241-\376/\041-\176/;$esc . $s;}sub jis2euc {my($s,$opt)=@_;local($n)=0;$$s=~s/($re_jp|$re_asc|$re_kana)([^\e]*)/_jis2euc($1,$2)/geo;euc2euc($s,$opt) if $opt;$n;}sub _jis2euc {my($esc,$s)=@_;if($esc !~ /^$re_asc/o){$n += $s=~tr/\041-\176/\241-\376/;if($esc=~/^$re_kana/o){$s=~s/([\241-\337])/\216$1/go;}elsif($esc=~/^$re_jis0212/o){$s=~s/([\241-\376][\241-\376])/\217$1/go;}}$s;}sub jis2sjis {my($s,$opt)=@_;local($n)=0;jis2jis($s,$opt) if $opt;$$s=~s/($re_jp|$re_asc|$re_kana)([^\e]*)/_jis2sjis($1,$2)/geo;$n;}sub _jis2sjis {my($esc,$s)=@_;if($esc=~/^$re_jis0212/o){$s=~s/../$undef_sjis/go;$n=length;}elsif($esc !~ /^$re_asc/o){$n += $s=~tr/\041-\176/\241-\376/;if($esc=~/^$re_jp/o){$s=~s/($re_euc_c)/$e2s{$1} || e2s($1)/geo;}}$s;}sub sjis2euc {my($s,$opt)=@_;my $n=$$s=~s/($re_sjis_c|$re_sjis_kana)/$s2e{$1} || s2e($1)/geo;euc2euc($s,$opt) if $opt;$n;}sub s2e {my($c1,$c2,$code);($c1,$c2)=unpack('CC',$code=shift);if(0xa1<=$c1 && $c1<=0xdf){$c2=$c1;$c1=0x8e;}elsif(0x9f<=$c2){$c1=$c1*2-($c1>=0xe0 ? 0xe0 : 0x60);$c2 += 2;}else{$c1=$c1*2-($c1>=0xe0 ? 0xe1 : 0x61);$c2 += 0x60+($c2<0x7f);}if($cache){$s2e{$code}=pack('CC',$c1,$c2);}else{pack('CC',$c1,$c2);}}sub euc2sjis {my($s,$opt)=@_;euc2euc($s,$opt) if $opt;my $n=$$s=~s/($re_euc_c|$re_euc_kana|$re_euc_0212)/$e2s{$1} || e2s($1)/geo;}sub e2s {my($c1,$c2,$code);($c1,$c2)=unpack('CC',$code=shift);if($c1==0x8e){return substr($code,1,1);}elsif($c1==0x8f){return $undef_sjis;}elsif($c1 % 2){$c1=($c1>>1)+($c1<0xdf ? 0x31 : 0x71);$c2 -= 0x60+($c2<0xe0);}else{$c1=($c1>>1)+($c1<0xdf ? 0x30 : 0x70);$c2 -= 2;}if($cache){$e2s{$code}=pack('CC',$c1,$c2);}else{pack('CC',$c1,$c2);}}sub utf2sjis {my($s,$opt)=@_;my $n=$$s=~s/($re_utf8)/$u2s{$1}/geo;sjis2sjis($s,$opt) if $opt;$n;}sub utf2euc {my($s,$opt)=@_;my $n=$$s=~s/($re_utf8)/$u2e{$1}/geo;euc2euc($s,$opt) if $opt;$n;}sub utf2jis {my($s,$opt)=@_;my $n=$$s=~s/($re_utf8)/$u2e{$1}/geo;euc2jis($s,$opt);}sub sjis2utf {my($s,$opt)=@_;sjis2sjis($s,$opt) if $opt;my $n=$$s=~s/($re_sjis_c|$re_sjis_kana)/$s2u{$1}/geo;}sub euc2utf {my($s,$opt)=@_;euc2euc($s,$opt) if $opt;my $n=$$s=~s/($re_euc_c|$re_euc_kana|$re_euc_0212)/$e2u{$1}/geo;}sub jis2utf {my($s,$opt)=@_;jis2euc($s,$opt);my $n=$$s=~s/($re_euc_c|$re_euc_kana|$re_euc_0212)/$e2u{$1}/geo;}sub jis2jis {my($s,$opt)=@_;$$s=~s/$re_jis0208/$esc_0208/go;$$s=~s/$re_asc/$esc_asc/go;h2z_jis($s) if $opt=~/z/o;z2h_jis($s) if $opt=~/h/o;}sub sjis2sjis {my($s,$opt)=@_;h2z_sjis($s) if $opt=~/z/o;z2h_sjis($s) if $opt=~/h/o;}sub euc2euc {my($s,$opt)=@_;h2z_euc($s) if $opt=~/z/o;z2h_euc($s) if $opt=~/h/o;}sub utf2utf {my($s,$opt)=@_;h2z_utf8($s) if $opt=~/z/o;z2h_utf8($s) if $opt=~/h/o;}sub cache {($cache,$cache=1)[$[];}sub nocache {($cache,$cache=0)[$[];}sub flush {undef %e2s;undef %s2e;}sub h2z_jis {my $s=shift;local($n)=0;if($$s=~s/$re_kana([^\e]*)/$esc_0208 . _h2z_jis($1)/geo){1 while $$s=~s/(($re_jis0208)[^\e]*)($re_jis0208)/$1/o;}$n;}sub _h2z_jis {my $s=shift;$n += $s=~s/(([\041-\137])([\136\137])?)/$h2z{$1} || $h2z{$2} . $h2z{$3}/geo;$s;}sub h2z_euc {my $s=shift;$$s=~s/\216([\241-\337])(\216([\336\337]))?/$h2z{"$1$3"} || $h2z{$1} . $h2z{$3}/geo;}sub h2z_sjis {my $s=shift;my $n=0;$$s=~s/(($re_sjis_c)+)|(([\241-\337])([\336\337])?)/ $1 || ($n++,$h2z{$3} ? $e2s{$h2z{$3}} || e2s($h2z{$3}) : e2s($h2z{$4}).($5 && e2s($h2z{$5})))/geo;$n;}sub h2z_utf8 {my $s=shift;_utf8_init_kana() unless %utf8_h2z;my $n=$$s=~s/((\357\275[\241-\277]|\357\276[\200-\237])(\357\276[\236\237])?)/ $utf8_h2z{$1} || $utf8_h2z{$2} . $utf8_h2z{$3}/geo;}sub z2h_jis {my $s=shift;local($n)=0;$$s=~s/($re_jis0208)([^\e]+)/_z2h_jis($2)/geo;$n;}sub _z2h_jis {my $s=shift;$s=~s/((\%[!-~]|![\#\"&VW+,<])+|([^!%][!-~]|![^\#\"&VW+,<])+)/__z2h_jis($1)/geo;$s;}sub __z2h_jis {my $s=shift;return $esc_0208 . $s unless $s=~/^%/o || $s=~/^![\#\"&VW+,<]/o;$n += length($s)/2;$s=~s/(..)/$z2h{$1}/go;$esc_kana . $s;}sub z2h_euc {my $s=shift;my $n=0;init_z2h_euc() unless defined %z2h_euc;$$s=~s/($re_euc_c|$re_euc_kana)/$z2h_euc{$1} ? ($n++,$z2h_euc{$1}) : $1/geo;$n;}sub z2h_sjis {my $s=shift;my $n=0;init_z2h_sjis() unless defined %z2h_sjis;$$s=~s/($re_sjis_c)/$z2h_sjis{$1} ? ($n++,$z2h_sjis{$1}) : $1/geo;$n;}sub z2h_utf8 {my $s=shift;_utf8_init_kana() unless %utf8_z2h;my $n=$$s=~s/(\343\200[\201\202\214\215]|\343\202[\233\234\241-\277]|\343\203[\200-\257\262-\264\273\274])/ $utf8_z2h{$1}/geo;}sub init_z2h_euc {my($k,$s);while(($k,$s)=each %z2h){$s=~s/([\241-\337])/\216$1/go && ($z2h_euc{$k}=$s);}}sub init_z2h_sjis {my($s,$v);while(($s,$v)=each %z2h){$s=~/[\200-\377]/o && ($z2h_sjis{e2s($s)}=$v);}}sub tr {my($s,$from,$to,$opt,$icode)=@_;$icode ||= getcode($s);if($icode eq 'sjis' || $icode eq 'jis' || $icode eq 'utf8'){convert($s,'euc',$icode);}elsif($icode ne 'euc'){return;}if(!defined($tr_prev_from) || $from ne $tr_prev_from || $to ne $tr_prev_to){($tr_prev_from,$tr_prev_to)=($from,$to);undef %tr_table;_maketable($from,$to,$opt,$icode);}my $n=0;$$s=~s/([\200-\377][\000-\377]|[\000-\377])/defined($tr_table{$1}) && ++$n ? $tr_table{$1} : $1/geo;if($icode ne 'euc'){convert($s,$icode,'euc');}$n;}sub _maketable {my($from,$to,$opt,$icode)=@_;if($icode ne 'euc'){convert(\$from,'euc',$icode);convert(\$to,'euc',$icode);}$from=~s/($re_euc_0212-$re_euc_0212)/&_expnd3($1)/geo;$from=~s/($re_euc_kana-$re_euc_kana)/&_expnd2($1)/geo;$from=~s/($re_euc_c-$re_euc_c)/&_expnd2($1)/geo;$from=~s/([\x00-\xff]-[\x00-\xff])/&_expnd1($1)/geo;$to=~s/($re_euc_0212-$re_euc_0212)/&_expnd3($1)/geo;$to=~s/($re_euc_kana-$re_euc_kana)/&_expnd2($1)/geo;$to=~s/($re_euc_c-$re_euc_c)/&_expnd2($1)/geo;$to=~s/([\x00-\xff]-[\x00-\xff])/&_expnd1($1)/geo;my @from=$from=~/$re_euc_0212|$re_euc_kana|$re_euc_c|[\x00-\xff]/go;my @to=$to=~/$re_euc_0212|$re_euc_kana|$re_euc_c|[\x00-\xff]/go;push(@to,($opt=~/d/o ? '' : $to[-1]) x (@from-@to)) if @to<@from;@tr_table{@from}=@to;}sub _expnd1 {my $s=shift;my($c1,$c2)=unpack('CxC',$s);if($c1<=$c2){for($s='';$c1<=$c2;$c1++){$s .= pack('C',$c1);}}$s;}sub _expnd2 {my $s=shift;my($c1,$c2,$c3,$c4)=unpack('CCxCC',$s);if($c1==$c3 && $c2<=$c4){for($s='';$c2<=$c4;$c2++){$s .= pack('CC',$c1,$c2);}}$s;}sub _expnd3 {my $s=shift;my($c1,$c2,$c3,$c4,$c5,$c6)=unpack('CCCxCCC',$s);if($c1==$c4 && $c2==$c5 && $c3<=$c6){for($s='';$c3<=$c6;$c3++){$s .= pack('CCC',$c1,$c2,$c3);}}$s;}sub utf8_init {my($ocode,$icode)=@_;if($ocode eq 'sjis'){return if keys %u2s;if(keys(%s2u)>0){%u2s=reverse %s2u;}else{_utf8_hash('sjis',\%u2s);}}elsif($ocode eq 'euc' || $ocode eq 'jis'){return if keys %u2e;if(keys(%e2u)>0){%u2e=reverse %e2u;}else{_utf8_hash('euc',\%u2e);}}elsif($icode eq 'sjis'){return if keys %s2u;if(keys(%u2s)>0){%s2u=reverse %u2s;}else{_utf8_hash('sjis',\%s2u,'r');}}elsif($icode eq 'euc' || $icode eq 'jis'){return if keys %e2u;if(keys(%u2e)>0){%e2u=reverse %u2e;}else{_utf8_hash('euc',\%e2u,'r');}}}sub _utf8_hash {my($code,$hash,$rev)=@_;my @files=@{$utf8_code_table{$code}};while(@files>0){if($utf8_table_path){$utf8_table_path=_utf8_table($utf8_table_path,splice(@files,0,3),$hash,$rev);}else{my($file,$len1,$len2)=splice(@files,0,3);foreach(@INC){if($utf8_table_path=_utf8_table($_,$file,$len1,$len2,$hash,$rev)){last;}}}_utf8_error($file) unless $utf8_table_path;}}sub _utf8_table {my($path,$file,$len1,$len2,$hash,$rev)=@_;open(FH,"< $path/$file") || return undef;binmode FH;my $size=-s "$path/$file";my $n=0;my($c,$u);if($rev){while($n<=$size){read(FH,$c,$len1);read(FH,$u,$len2);$hash->{$c}=$u;$n += ($len1+$len2);}}else{while($n<=$size){read(FH,$c,$len1);read(FH,$u,$len2);$hash->{$u}=$c;$n += ($len1+$len2);}}close FH;$path;}sub _utf8_init_kana {%utf8_z2h=("\xE3\x80\x81"=>"\xEF\xBD\xA4","\xE3\x80\x82"=>"\xEF\xBD\xA1","\xE3\x80\x8C"=>"\xEF\xBD\xA2","\xE3\x80\x8D"=>"\xEF\xBD\xA3","\xE3\x82\x9B"=>"\xEF\xBE\x9E","\xE3\x82\x9C"=>"\xEF\xBE\x9F","\xE3\x82\xA1"=>"\xEF\xBD\xA7","\xE3\x82\xA2"=>"\xEF\xBD\xB1","\xE3\x82\xA3"=>"\xEF\xBD\xA8","\xE3\x82\xA4"=>"\xEF\xBD\xB2","\xE3\x82\xA5"=>"\xEF\xBD\xA9","\xE3\x82\xA6"=>"\xEF\xBD\xB3","\xE3\x82\xA7"=>"\xEF\xBD\xAA","\xE3\x82\xA8"=>"\xEF\xBD\xB4","\xE3\x82\xA9"=>"\xEF\xBD\xAB","\xE3\x82\xAA"=>"\xEF\xBD\xB5","\xE3\x82\xAB"=>"\xEF\xBD\xB6","\xE3\x82\xAC"=>"\xEF\xBD\xB6\xEF\xBE\x9E","\xE3\x82\xAD"=>"\xEF\xBD\xB7","\xE3\x82\xAE"=>"\xEF\xBD\xB7\xEF\xBE\x9E","\xE3\x82\xAF"=>"\xEF\xBD\xB8","\xE3\x82\xB0"=>"\xEF\xBD\xB8\xEF\xBE\x9E","\xE3\x82\xB1"=>"\xEF\xBD\xB9","\xE3\x82\xB2"=>"\xEF\xBD\xB9\xEF\xBE\x9E","\xE3\x82\xB3"=>"\xEF\xBD\xBA","\xE3\x82\xB4"=>"\xEF\xBD\xBA\xEF\xBE\x9E","\xE3\x82\xB5"=>"\xEF\xBD\xBB","\xE3\x82\xB6"=>"\xEF\xBD\xBB\xEF\xBE\x9E","\xE3\x82\xB7"=>"\xEF\xBD\xBC","\xE3\x82\xB8"=>"\xEF\xBD\xBC\xEF\xBE\x9E","\xE3\x82\xB9"=>"\xEF\xBD\xBD","\xE3\x82\xBA"=>"\xEF\xBD\xBD\xEF\xBE\x9E","\xE3\x82\xBB"=>"\xEF\xBD\xBE","\xE3\x82\xBC"=>"\xEF\xBD\xBE\xEF\xBE\x9E","\xE3\x82\xBD"=>"\xEF\xBD\xBF","\xE3\x82\xBE"=>"\xEF\xBD\xBF\xEF\xBE\x9E","\xE3\x82\xBF"=>"\xEF\xBE\x80","\xE3\x83\x80"=>"\xEF\xBE\x80\xEF\xBE\x9E","\xE3\x83\x81"=>"\xEF\xBE\x81","\xE3\x83\x82"=>"\xEF\xBE\x81\xEF\xBE\x9E","\xE3\x83\x83"=>"\xEF\xBD\xAF","\xE3\x83\x84"=>"\xEF\xBE\x82","\xE3\x83\x85"=>"\xEF\xBE\x82\xEF\xBE\x9E","\xE3\x83\x86"=>"\xEF\xBE\x83","\xE3\x83\x87"=>"\xEF\xBE\x83\xEF\xBE\x9E","\xE3\x83\x88"=>"\xEF\xBE\x84","\xE3\x83\x89"=>"\xEF\xBE\x84\xEF\xBE\x9E","\xE3\x83\x8A"=>"\xEF\xBE\x85","\xE3\x83\x8B"=>"\xEF\xBE\x86","\xE3\x83\x8C"=>"\xEF\xBE\x87","\xE3\x83\x8D"=>"\xEF\xBE\x88","\xE3\x83\x8E"=>"\xEF\xBE\x89","\xE3\x83\x8F"=>"\xEF\xBE\x8A","\xE3\x83\x90"=>"\xEF\xBE\x8A\xEF\xBE\x9E","\xE3\x83\x91"=>"\xEF\xBE\x8A\xEF\xBE\x9F","\xE3\x83\x92"=>"\xEF\xBE\x8B","\xE3\x83\x93"=>"\xEF\xBE\x8B\xEF\xBE\x9E","\xE3\x83\x94"=>"\xEF\xBE\x8B\xEF\xBE\x9F","\xE3\x83\x95"=>"\xEF\xBE\x8C","\xE3\x83\x96"=>"\xEF\xBE\x8C\xEF\xBE\x9E","\xE3\x83\x97"=>"\xEF\xBE\x8C\xEF\xBE\x9F","\xE3\x83\x98"=>"\xEF\xBE\x8D","\xE3\x83\x99"=>"\xEF\xBE\x8D\xEF\xBE\x9E","\xE3\x83\x9A"=>"\xEF\xBE\x8D\xEF\xBE\x9F","\xE3\x83\x9B"=>"\xEF\xBE\x8E","\xE3\x83\x9C"=>"\xEF\xBE\x8E\xEF\xBE\x9E","\xE3\x83\x9D"=>"\xEF\xBE\x8E\xEF\xBE\x9F","\xE3\x83\x9E"=>"\xEF\xBE\x8F","\xE3\x83\x9F"=>"\xEF\xBE\x90","\xE3\x83\xA0"=>"\xEF\xBE\x91","\xE3\x83\xA1"=>"\xEF\xBE\x92","\xE3\x83\xA2"=>"\xEF\xBE\x93","\xE3\x83\xA3"=>"\xEF\xBD\xAC","\xE3\x83\xA4"=>"\xEF\xBE\x94","\xE3\x83\xA5"=>"\xEF\xBD\xAD","\xE3\x83\xA6"=>"\xEF\xBE\x95","\xE3\x83\xA7"=>"\xEF\xBD\xAE","\xE3\x83\xA8"=>"\xEF\xBE\x96","\xE3\x83\xA9"=>"\xEF\xBE\x97","\xE3\x83\xAA"=>"\xEF\xBE\x98","\xE3\x83\xAB"=>"\xEF\xBE\x99","\xE3\x83\xAC"=>"\xEF\xBE\x9A","\xE3\x83\xAD"=>"\xEF\xBE\x9B","\xE3\x83\xAF"=>"\xEF\xBE\x9C","\xE3\x83\xB2"=>"\xEF\xBD\xA6","\xE3\x83\xB3"=>"\xEF\xBE\x9D","\xE3\x83\xB4"=>"\xEF\xBD\xB3\xEF\xBE\x9E","\xE3\x83\xBB"=>"\xEF\xBD\xA5","\xE3\x83\xBC"=>"\xEF\xBD\xB0",);%utf8_h2z=reverse %utf8_z2h;}
sub _utf8_error {
    my($file) = @_;
    if(defined $ENV{'GATEWAY_INTERFACE'}){
        print "Content-type: text/html; charset=us-ascii\n\n";
        print <<"_HTML_";
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>
<title>Internal Server Error</title>
</head>
<body>
<h1>Internal Server Error</h1>
<p>The "<b>jcode.pl</b>" encountered an internal error or misconfiguration.<br>
Please confirm your placement of UTF-8's conversion data files.</p>
<p>File not found in \@INC path: "$file"</p>
</body>
</html>
_HTML_
;
    } else {
        die ("File not found in \@INC path: '$file'");
    }
    exit;
}
1;
